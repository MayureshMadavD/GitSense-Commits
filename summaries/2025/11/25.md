# Activity Summary for 25/11/2025

## 10:37:30
The provided log details code changes across two main applications: `checkout-dashboard-ui` and `dashboard-ui-configuration`. The changes primarily occurred on **21/11/2025** and **24/11/2025**.

### File-Specific Updates:

1.  **`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/.env`**
    *   **21/11/2025, 12:27:36**: `REACT_APP_BASE_URL` and `REACT_APP_BULK_DISCOUNT_URL` were set to `sandbox` environment URLs, with `dev`, `qa`, and `prod` environments commented out.
    *   **24/11/2025, 12:17:00**: The environment was switched from `sandbox` to `qa` by uncommenting the `qa` URLs and commenting out the `sandbox` URLs.
    *   **24/11/2025, 12:17:47**: The environment was switched back from `qa` to `sandbox` by uncommenting the `sandbox` URLs and commenting out the `qa` URLs.
    *   **24/11/2025, 16:50:37**: All environment URLs (`dev`, `qa`, `sandbox`, `prod`) were commented out.
    *   **24/11/2025, 16:50:43**: The `dev` environment URLs were uncommented.
    *   **24/11/2025, 16:52:35**: The `qa` environment URLs were uncommented, and `dev` was commented.
    *   **24/11/2025, 16:53:29**: The `sandbox` environment URLs were uncommented, and `qa` was commented.

2.  **`/Users/mayuresh.madav/Documents/dashboard/dashboard-ui-configuration/src/index.ejs`**
    *   **21/11/2025, 12:27:47**: This file configures the Gokwik Dashboard. It defines `systemjs-importmap` entries for various `@gokwik` modules, with different URLs based on `isLocal`, `deployedEnv='dev'`, `deployedEnv='qa'`, `deployedEnv='sandbox'`, or `deployedEnv='production'`.
        *   Local environment modules point to `localhost:9000` or `localhost:9002` for `@gokwik/configuration` and `@gokwik/checkout`, respectively, while others use `sandbox-dashboard.dev.gokwik.in` or `qa-dashboard.dev.gokwik.in`.
        *   `dev` environment modules consistently point to `dev-dashboard.dev.gokwik.in`.
        *   `qa` environment modules consistently point to `qa-dashboard.dev.gokwik.in`.
        *   `sandbox` environment modules consistently point to `sandbox-dashboard.dev.gokwik.in`.
        *   `production` environment includes New Relic and Clarity monitoring scripts.
        *   A new entry for `@gokwik/kwikcomm` was added to the `dev` and `qa` environment import maps.
    *   **24/11/2025, 12:17:06**: The `isLocal` condition's `@gokwik/utilities` and `@gokwik/dashboard` module URLs were changed from `sandbox-dashboard.dev.gokwik.in` to `qa-dashboard.dev.gokwik.in`.
    *   **24/11/2025, 12:17:41**: The `isLocal` condition's `@gokwik/utilities` and `@gokwik/dashboard` module URLs were changed back from `qa-dashboard.dev.gokwik.in` to `sandbox-dashboard.dev.gokwik.in`.
    *   **24/11/2025, 16:50:58**: The `isLocal` condition's `@gokwik/utilities` and `@gokwik/dashboard` module URLs were changed from `sandbox-dashboard.dev.gokwik.in` to `dev-dashboard.dev.gokwik.in`.
    *   **24/11/2025, 16:52:06**: The `isLocal` condition's `@gokwik/utilities` and `@gokwik/dashboard` module URLs were changed back from `dev-dashboard.dev.gokwik.in` to `qa-dashboard.dev.gokwik.in`.
    *   **24/11/2025, 16:53:39**: The `isLocal` condition's `@gokwik/utilities` and `@gokwik/dashboard` module URLs were changed from `qa-dashboard.dev.gokwik.in` to `sandbox-dashboard.dev.gokwik.in`.

3.  **`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/pages/settings/shipping-settings/shipping-component/shippingBasedMethods.tsx`**
    *   **24/11/2025, 12:31:55**: This React component manages shipping method configurations. It imports various UI components from `gokwik-ui-kit` and utilities. Key functionalities include:
        *   State management for switch toggles (`code_fee`, `shipping_tag`, `edd_tag`), modals (`modal_one`, `modal_tow`, `priceModal`, `deleteModal`), customer segments, shipping configurations, edit mode, dragged rows, save button visibility, and current uploaded files (pincodes, cohorts).
        *   Redux hooks are used to dispatch actions (`fetchCustomerSegments`) and select data (`getMerchantDetails`, `getUserDetails`).
        *   API calls are made using `makeAPICall` and `makeAWSPutCall` to fetch/upload cohort pre-signed URLs and download CSVs.
        *   Form fields are defined for `shipping_prices` (name, price, min/max order value) with validation rules, including uniqueness checks for shipping names and numeric input validation.
        *   An "Advanced Conditions" button opens `modal_one` and fetches customer segments.
        *   Includes an `Upload` component for pincode CSVs with validation for file type and content (6-digit numbers, single/horizontal format).
    *   **24/11/2025, 12:36:01**: No significant content changes compared to the previous timestamp; likely a re-save or minor, non-semantic change.

4.  **`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/library/utilities/helpers/validations.ts`**
    *   **24/11/2025, 12:45:40**: This file defines various validation functions for different discount types (`TieredDiscount`, `DynamicDiscount`, `BuyXAtYDiscount`, `DiscountCapping`, `GWP`).
        *   A `rangesOverlap` helper function checks if two ranges overlap.
        *   `validateTieredDiscount`: Validates payment method, unique discount code, lower/upper limits (non-zero, upper > lower), and ensures non-overlapping ranges across tiers for the same method type. It also prevents different freebie products for overlapping ranges.
        *   `validateDynamicDiscount`: Validates discount name uniqueness, consistency of discount category (order value vs. product quantity), discount type, and value. For volume-based discounts, it checks for unique item volume. For value-based discounts, it validates min/max prices (non-zero, max > min) and prevents overlap with existing tiers.
        *   `validateBuyXatYDiscount`: Validates discount name, match type, product quantity, capped value, and uniqueness of discount name and product quantity combination.
        *   `validateDiscountCapping`: Validates match type, code/regex, and capping limit.
        *   `validateGWP`: Validates eligibility rule match type and discount code.
    *   **24/11/2025, 12:47:57 to 24/11/2025, 17:34:51**: Multiple timestamps indicate frequent saves or minor, non-semantic changes throughout this period. The content across these entries for `validations.ts` appears largely identical, suggesting iterative saving without significant functional changes.

5.  **`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/pages/settings/shipping-settings/shipping-component/weightShipping.tsx`**
    *   **24/11/2025, 15:16:01**: This React component handles weight-based shipping methods. It uses `gokwik-ui-kit` components and utilities.
        *   State management for form, drawer (`open`), edit mode, previous form state, button visibility, and modal visibility.
        *   Uses `useEffect` to update `weightConfig` when `weightConfigs` prop changes.
        *   Defines form fields for `shipping_name`, `shipping_uuid`, `min_weight`, `max_weight`, and `price`.
        *   Includes validation rules for required fields, alphanumeric `shipping_name`, positive numbers for weights and price (price cannot be 0).
        *   "Shipping ID" field is a `Select` dropdown populated from `shippingConfig`, allowing "All" or specific shipping methods.
        *   `getValesFromForm` handles form submission, including validation using `validateWeightRangeDifference` from `validations.ts` for preventing overlapping weight ranges and ensuring unique shipping names.
        *   Table headers are defined for displaying shipping data, including filters for `shipping_uuid`.
    *   **24/11/2025, 15:23:28**: Added `isEditEnabled` as a parameter to the `validateWeightRangeDifference` call within `getValesFromForm` when adding a new record (`if (!isEditEnabled)`).
    *   **24/11/2025, 15:27:43**: The `validateWeightRangeDifference` function call for new records (`if (!isEditEnabled)`) had its `isEditEnabled` parameter changed from `true` to `false`.
    *   **24/11/2025, 16:30:14 to 24/11/2025, 16:59:09**: Multiple saves without substantial content changes.
    *   **24/11/2025, 20:15:07**: Added a `console.log` for `weightConfigs` in the `useEffect` hook.
    *   **24/11/2025, 20:19:27**: Modified the `setWeightConfig` logic in `useEffect` to handle cases where `weightConfigs` might be empty, defaulting to the existing `weightConfig.weight_based_shipping_rates` if `weightConfigs` has no length.
    *   **24/11/2025, 20:19:36**: No significant content changes from the previous entry.

6.  **`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/pages/settings/shipping-settings/shippingBasedService.tsx`**
    *   **24/11/2025, 20:17:43**: This component organizes different shipping configuration methods using `Tabs`.
        *   Initializes `activeTab` state to `currentTab: '1'`.
        *   `createConfigSaver` function generates configuration objects, marking them for patching (`isPatch: true`) for weight and discount-based settings, but not for `shippingMethodConfig`.
        *   `handleTabChange` now includes `refetchWeight()` for tab '2' and `refetchDiscount()` for tab '3'.
        *   The `tabsList` contains "Shipping Method" (key '1'), "Weight Based Shipping" (key '2'), and "Discount Based Shipping" (key '3').
        *   If `shippingPriceObject` is empty, only "Shipping Method" is displayed. Otherwise, all tabs are shown.
    *   **24/11/2025, 20:29:59**:
        *   Imported `ProductBasedShipping` component.
        *   Modified `handleTabChange` to refresh `Weight` on tab `'3'` and `Discount` on tab `'4'`.
        *   The `tabsList` was updated:
            *   "Weight Based Shipping" changed from `key: '2'` to `key: '3'`.
            *   "Discount Based Shipping" changed from `key: '3'` to `key: '4'`.
            *   A new "Product Based Shipping" tab was conditionally added with `key: '2'`, appearing only if `merchantConfig?.config?.custom_config?.shipping_service` is true.

### Patterns and Recurring Elements:

*   **Environment Configuration**: Frequent changes to `.env` files (specifically `REACT_APP_BASE_URL` and `REACT_APP_BULK_DISCOUNT_URL`) and `index.ejs` import maps indicate active development and testing across `dev`, `qa`, and `sandbox` environments. The changes in `index.ejs` for `isLocal` environment mirror the `.env` changes, pointing local development to different remote dashboards (sandbox, QA, dev).
*   **Timestamp Clustering**: Multiple saves for `validations.ts` and `weightShipping.tsx` within short intervals on 24/11/2025 (e.g., 12:45 to 17:34 for `validations.ts`, and 15:16 to 20:19 for `weightShipping.tsx`) suggest active development, debugging, or fine-tuning of these components and their associated logic.
*   **Shipping Configuration Focus**: A significant portion of changes revolve around shipping settings, with components like `shippingBasedMethods.tsx`, `weightShipping.tsx`, and `shippingBasedService.tsx` undergoing updates. This indicates a concentrated effort on enhancing or modifying shipping-related features.
*   **Validation Logic**: The `validations.ts` file is a central point for various discount and pricing validations (tiered, dynamic, buyXatY, capping, GWP). The `rangesOverlap` utility function is a recurring theme in these validations to ensure that configured ranges (e.g., price, weight, quantity) do not conflict.
*   **UI Kit Usage**: Consistent use of `gokwik-ui-kit` components (Button, Card, Col, Dropdown, Form, Input, message, Modal, Row, Select, Table, Tooltip, Upload) across UI components suggests a standardized component library is in use.
*   **Micro-frontend Architecture**: The `index.ejs` file clearly points to a micro-frontend architecture using `systemjs-importmap` for loading various `@gokwik` modules (`@gokwik/configuration`, `@gokwik/utilities`, `@gokwik/dashboard`, etc.) from different host URLs depending on the deployment environment.
*   **Error Handling/Messaging**: Validation functions consistently return an object with a `msg` (message) and `status` (boolean) to indicate success or failure and provide feedback. `message.error` is also frequently used in the UI components for user feedback on validation failures or API issues.
*   **Conditional Rendering**: In `shippingBasedService.tsx`, the display of tabs is conditional (`!shippingPriceObject?.length ? ... : <Tabs ... />`), and the "Product Based Shipping" tab is conditionally rendered based on `merchantConfig?.config?.custom_config?.shipping_service`, indicating feature toggling or progressive disclosure.