# Activity Summary for 02/09/2025

## 00:42:32
The `/Users/madav/Documents/checkout UI/gokwik.pdp/src/Components/place-order/TotalContainer.svelte` file underwent three revisions on January 9th, 2025.  The changes primarily focused on the display and calculation of discounts within the order summary.

The first revision (23:36:01) introduced the component's initial structure, handling various discount types (coupon, automatic, loyalty, special, prepaid), gift card application, and  MRP (Maximum Retail Price) information.  It includes extensive logic for calculating `totalOrderDiscount` and `totalGiftCardAmount`, leveraging several Svelte stores for data.  A `logEvent` function is used to track payment method discrepancies.

The second revision (23:38:18) involved a minor change: a `console.log(JSON.stringify($store_discountBasedRewards))` statement was added after the `<li class="subtotal">` element, seemingly for debugging purposes.  This suggests the developer was investigating issues related to  `store_discountBasedRewards`.

The third revision (23:40:08) replaced the debugging statement from the second revision with `JSON.stringify($store_partnerAcquisitionOffer)`. This further points to the ongoing debugging of discount calculations, now focusing on the `store_partnerAcquisitionOffer` store. The overall structure and logic of the component remained unchanged across all three revisions.  The timestamps indicate rapid iteration and debugging in a short time frame.  The recurring theme across all versions is the complex calculation and display of multiple discount types and gift card amounts, reflecting a potentially intricate pricing model.


## 11:06:39
This commit significantly updates the `/Users/madav/Documents/mint-dashboard/app/ui/dashboard/merchants/merchant.jsx` file on 02/09/2025 at 01:04:13.  The changes involve a major overhaul of a React component responsible for displaying and managing merchant data.

The component, `Merchant`, now uses Ant Design components extensively for its UI elements (Buttons, Forms, Tables, Modals, etc.).  It incorporates several custom functions for data manipulation and filtering (`convertStringtoArray`, `createOptionsListForFilter`, `exportDataToCsv`, etc.) and interacts with backend functions for creating, updating, and deleting merchant entries (`createNewMerchant`, `deletEntryForMerchant`, `updateMerchantByID`).

The core functionality revolves around a table displaying merchant information, allowing for filtering, sorting, and pagination.  The displayed columns are configurable, and the component supports adding and editing merchants via forms.  A significant portion of the code is dedicated to defining the structure and validation rules for this form, covering numerous merchant attributes (name, CE name, type, dates, ARR, etc.).  The component also includes delete confirmation modals and utilizes various Ant Design components for enhanced UI.  Finally, filtering is implemented using both text search and numerical/date range filters.


## 14:06:58
The provided log shows multiple revisions to `/Users/madav/Documents/checkout UI/gokwik.pdp/src/App.svelte`  between 13:34:48 and 13:53:17 on February 9, 2025.  The changes primarily involve the `onpopstate` and `window.addEventListener` functions within the `onMount` lifecycle hook.  These functions handle browser back button events and messages received from an iframe respectively.

The `onpopstate` function's logic was refined across revisions.  Initially, it checked for `cashToPrepaid` and `currentPage` values to determine how to handle back navigation, including setting flags and calling the `backButtonClickBeaconCall` function. Later versions added more detailed logging (`console.log`) statements to help track the execution path within the function and simplified conditionals for handling back navigation after page 7.  The condition `currentPage > 7` was introduced to simplify the logic.


The `window.addEventListener` function, which listens for messages from an iframe, remained largely consistent, receiving `gokwikEvent` data containing various flags (like `cashToPrepaidFlag`, `isSkipOtp`), URLs, and merchant information.  This data is then used to update several Svelte stores. The try/catch block handling localstorage access was consistent across updates.  A noteworthy addition was handling  `checkoutAnywhere` events, retrieving cart information through `checkoutLinkIntegration`, and updating the `store_cartjsObject`, `cartObject`, and `store_sourceValue`.  More  `shopify_` prefixed information like `shopify_landing_page` and `shopify_orig_referrer` is also being set.


In summary, the modifications to `/Users/madav/Documents/checkout UI/gokwik.pdp/src/App.svelte` focused on improving the handling of back navigation and the processing of messages from an iframe.  The changes involved incremental refinements to the conditional logic within the event handlers, adding more logging to aid debugging, and enhancing the handling of specific scenarios related to checkout links and Shopify information.


## 15:06:41
The log shows code changes on February 9th, 2025, primarily focused on the `/Users/madav/Documents/dashboard_checkout/dashboard-ui-configuration/src/index.ejs` file.  This file is an EJS template that dynamically generates HTML, likely for a single-spa application.  The significant changes involve modifying the import map within the `<script type="systemjs-importmap">` tags.

The import map defines where various JavaScript modules are loaded from, depending on the `deployedEnv` variable (which can be 'dev', 'qa', 'sandbox', or 'production').  For each environment, different URLs are specified for modules like `@gokwik/configuration`, `@gokwik/utilities`, `@gokwik/dashboard`, and others.  The local development environment (`isLocal`) uses a mix of local and remote URLs for these modules.  A noticeable difference is the addition of `@gokwik/kwikcomm` in the 'dev' and 'qa' environments.

The production environment (`deployedEnv==='production'`) includes additional scripts for Clarity (if `clarityKey` is present) and New Relic monitoring.  The New Relic configuration is extensive, utilizing various modules and functions related to error handling, performance monitoring, and session replay.  A significant portion of the production code appears to be minified JavaScript related to New Relic's functionality.

The timestamps indicate that the `.env` file was modified at 14:21:37, and the `index.ejs` file at 14:21:47. The short time difference suggests these changes were made in quick succession, likely as part of a single deployment or configuration update.  The `.env` file shows different API URLs for development, QA, and sandbox environments.


## 16:06:40
The `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` file was updated on 02/09/2025 at 15:45:00.  This file defines functions that return URLs based on the current environment (e.g., `dev`, `qa`, `sandbox`, `production`).  The functions `getHealthServiceBaseUrl`, `getAddressSuggestionBaseUrl`, `api_url`, `getCredUrl`, `experiment_url`, `twidpay_api`, `kp_api`, `cdn_path`, `analytics_api`, `analytics_api_v2`, `merchant_url`, `merchant_url_api`, `XGokwikToken`, and `XKWIKPASSToken` all dynamically determine and return different URLs depending on the environment variable `env`.  A `setCart` function initializes a cart object with specific data in the local environment.  The code extensively uses conditional logic to handle various environments, indicating a robust approach to managing different deployment stages.  The `env` variable plays a central role in determining the appropriate API endpoints and CDN paths.  Many functions share similar conditional logic based on environment variables, suggesting a potential opportunity for refactoring to improve code maintainability and readability.
