# Activity Summary for 20/08/2025

## 00:17:02
The provided log shows three entries for the file `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/MerchantAPI.ts`, all on August 19, 2025.  The code in all three entries is identical.  The timestamps indicate that the file was either updated three times with the same content, or the timestamp is inaccurate. There are no discernible changes in the code between the three entries.  The code itself is a TypeScript file containing numerous asynchronous functions related to a merchant API, likely for a checkout process.  These functions handle various aspects including cart management (`getCartJs`, `getAbandonCart`, `updateCartAnalytics`), request ID generation (`getRequestId`), user experiments (`getUserExperiments`, `assignUserVariant`), authentication and OTP (`submitPhoneNumber`, `checkLogin`, `verifyOTP`, `resendOtpCall`), address management (`deleteAddress`, `verifyPincode`, `addAddress`, `getAllAddress`), and potentially other features. The functions extensively utilize various store subscriptions (using MobX or a similar state management library) from different stores (OrderStore, LoginStore, CommonStore) to access and update application state.  The consistent use of `postCall` and `getCall` suggests a standardized API interaction pattern.  Error handling appears minimal, primarily relying on `try...catch` blocks and Promise.any for jwtToken management in checkLogin. The code also includes custom handling for various parameters like `cf_user_customer_id`, `cf_user_id`, `cf_dimension_id`, and `cf_session_id`, likely for analytics or tracking purposes.  The presence of `x-gokwik-token` and `x-kwikpass-token` headers suggest API authentication mechanisms.


## 13:03:26
The log shows code changes on August 20, 2025, primarily focused on the `checkout-dashboard-ui` and `dashboard-ui-configuration` projects.

The `/Users/madav/Documents/dashboard_checkout/dashboard-ui-configuration/src/index.ejs` file was updated at 12:06:33.  This file is an EJS template that dynamically generates HTML based on the environment (`isLocal`, `deployedEnv`).  The significant change is the conditional inclusion of `<script type="systemjs-importmap">` blocks. These blocks define import maps for different environments (local, dev, qa, sandbox, production), specifying URLs for various Gokwik modules (@gokwik/*).  The production environment also includes Clarity and New Relic tracking scripts, with a dynamically injected `clarityKey`. The import map specifies CDN locations for React, React-DOM, and single-spa.


The `/Users/madav/Documents/dashboard_checkout/checkout-dashboard-ui/src/pages/orders/edit-orders/index.tsx` file was modified at 12:09:44. This React component handles editing order details. Key updates include:

* Extensive use of the `gokwik-ui-kit` component library for UI elements.
*  Usage of Redux's `useSelector` hook to access application state (merchant details, user configuration, etc.).
* API calls are made using `makeAPICall` from `@gokwik/utilities`.
*  The component manages line items, allowing adding, modifying, and deleting them.  Quantity adjustments trigger `modifyQty` function calls.  Item deletion temporarily stores deleted items in `discount.recentlyDeletedItems`, allowing their re-addition.
*  Discount management is a prominent feature, with options for fixed amount or percentage discounts.  The UI allows adding and removing discounts, and provides feedback through messages.
*  Data is displayed in tables using the `Table` component, with custom rendering for product information and quantity controls.
*  Error handling is implemented using state variables for errors and error items.
* The component uses `single-spa`'s `navigateToUrl` for navigation.
* The component utilizes helper functions such as `formatAmount` and `removeDuplicatesByKey`.

The updates suggest a robust order management system with a focus on a clean, component-based UI and clear separation of concerns through the use of utility functions and Redux.  The conditional logic in `index.ejs` points to a multi-environment deployment strategy.


## 15:03:32
The log shows multiple revisions of `/Users/madav/Documents/checkout UI/gokwik.pdp/src/App.svelte` between 13:18:49 and 13:51:03.  These revisions primarily involve additions and/or modifications to the `onMount` function within the Svelte component. The `onMount` function handles the initialization of the checkout process by listening for messages from the parent window, setting up various store variables based on the received data, and managing cookie and local storage values related to Gokwik tokens and session information.  There is a recurring pattern of handling different environment variables ('dev', 'qa', 'sandbox', 'production', etc.) for API URLs and token values.  The updates in these revisions do not significantly alter the core logic but likely involve bug fixes, minor improvements, or additions to handle various scenarios during the checkout process.  A consistent theme throughout the revisions is the extensive use of Svelte stores to manage the application state.  The use of window.postMessage suggests a communication mechanism between the main application and an embedded iFrame or other component.


The file `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` was modified twice, at 13:07:43 and 13:07:55, with only a minor change in the `api_url` function.  The `local` environment's API URL was changed from commented-out options to `https://sandbox.gokwik.co`.  This file manages environment-specific API URLs, suggesting a configuration system that allows the application to adapt to different deployment environments.  The functions (`getHealthServiceBaseUrl`, `getAddressSuggestionBaseUrl`, `api_url`, etc.) show a clear structure for handling different environment configurations.

The file `/Users/madav/Documents/checkout UI/gokwik.pdp/public/merchant.html` was updated once at 13:08:12. This file is an HTML page that appears to be a merchant integration point. It embeds a Gokwik checkout button and includes JavaScript code to manage the communication between the merchant's page and the Gokwik SDK. The script initializes the Gokwik SDK and handles merchant information for payment processing.  The inclusion of cookie management demonstrates an effort to track the user's session.

The file `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/MerchantAPI.ts` was updated once at 13:14:44.  This file contains functions for various API interactions, including fetching cart information, handling login, updating cart analytics, managing addresses, and other checkout-related operations.  The code reveals extensive use of asynchronous operations (`async/await`) for API calls and complex logic for handling different API responses and data structures. The functions are well-organized and use a consistent naming convention.  The code shows that the service integrates with various internal and external services like analytics and payment gateways.
