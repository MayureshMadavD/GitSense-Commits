# Activity Summary for 07/08/2025

## 00:18:17
The `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` file was updated on 06/08/2025, 23:56:51.  This file defines functions to retrieve base URLs for various APIs and services based on the current environment (`dev`, `qa`, `sandbox`, `production`, etc.).  The logic extensively uses the `env` variable,  which is derived from a store and potentially from `window.merchantInfo`.  The file also includes functions to set and retrieve cookies (`getCookieGk`, `setCookieGk`), and defines  functions to return different URLs depending on environment for health checks, address suggestions, APIs (`api_url`, `experiment_url`, `twidpay_api`, `kp_api`, `analytics_api`, `analytics_api_v2`), CDN paths (`cdn_path`), and merchant URLs (`merchant_url`, `merchant_url_api`). There's also logic to set a default cart object for the 'local' environment.  The functions `XGokwikToken` and `XKWIKPASSToken` return different tokens based on the environment, suggesting they are environment-specific authentication tokens.  The numerous conditional statements within these functions indicate a complex mapping between environment and API endpoints.


The `/Users/madav/Documents/checkout UI/gokwik.pdp/public/merchant.html` file was updated on 06/08/2025, 23:57:27. This file is an HTML page for a merchant, containing a button that triggers a checkout process using a GoKwik SDK.  The `merchantInfo` object is prominently featured, containing merchant-specific data such as `mid`, `environment`, and `storeId`.  The code includes logic to initialize the GoKwik SDK (`gokwikSdk.init()`) and manages cookies (`getCookieGk`, `setCookieGk`) to track the landing page and referrer.  The script dynamically loads the GoKwik SDK depending on the environment, defaulting to `http://localhost:8080/build/gokwik.js` and includes commented-out code which suggests previous versions of the script loading. The script also contains numerous commented-out `mid` values, suggesting experimentation with different merchant IDs. There is also code to load an analytics script but the contents are rather minimal.  The commented out analytics script and the presence of  `fbpixel` within `merchantInfo` suggests integration with Facebook Pixel.  The page also shows a Privy widget for marketing purposes.


## 00:18:19
The provided code represents a React component (`editAbcCart`) responsible for managing and updating abandoned shopping carts.  The component interacts with several APIs (`getCustomer`, `createCustomer`, `createAddress`, `getCustomerAddresses`, `getAddress`, `createAbcOrder`) for customer and order management.  These APIs appear to be accessed via a baseUrl stored in environment variables (not shown in the log).  The code extensively uses asynchronous operations (`async/await`) to handle API calls.

Significant changes occurred between the timestamps:


* **06/08/2025, 23:23:17 - 06/08/2025, 23:24:19:** No visible code changes.
* **06/08/2025, 23:24:19 - 06/08/2025, 23:25:18:** A `console.log(params)` statement was added to the `fetchCustomer` function, likely for debugging purposes.
* **06/08/2025, 23:25:18 - 06/08/2025, 23:25:32:** A conditional check (`if (data)`) was added within the `fetchCustomer` function's success handler to ensure the existence of `data` before calling `fetchCustomerAddressess`.
* **06/08/2025, 23:25:32 - 06/08/2025, 23:26:44:**  No visible code changes.
* **06/08/2025, 23:26:44 - 06/08/2025, 23:28:49:** No visible code changes.
* **06/08/2025, 23:28:49 - 06/08/2025, 23:29:07:** The `fetchCustomer` function was modified to unconditionally call `fetchCustomerAddressess` if the phone parameter is true, removing a conditional check.
* **06/08/2025, 23:29:07 - 06/08/2025, 23:33:02:** No visible code changes.
* **06/08/2025, 23:33:02 - 06/08/2025, 23:33:48:** No visible code changes.


The `editAbcCart` component manages a significant amount of state related to the abandoned cart, customer details, shipping information, and order creation process.  The recurring pattern is the use of `makeAPICall` for all API interactions, indicating a consistent approach to API communication.  Error handling within each API call is also consistent, logging errors to the console and displaying error messages to the user.  The code handles various payment methods (COD, payment link, SMS/WhatsApp notifications).
