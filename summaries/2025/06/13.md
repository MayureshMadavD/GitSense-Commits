# Activity Summary for 13/06/2025

## 15:43:05
The log shows multiple updates to `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` and `/Users/madav/Documents/checkout UI/gokwik.pdp/public/merchant.html` on June 13th, 2025.

`/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` underwent several revisions between 15:18:49 and 15:31:34.  These changes primarily involved modifications to the `api_url` function, adding and updating URLs for various environments ('dev', 'qa', 'sandbox', 'production', and others).  The `local` environment's URL was changed multiple times within this period, eventually settling on  `https://qa-core-api.dev.gokwik.in`.  The `setCart` function was also modified, updating the cart object with different product details and a new token in the second and third update .


`/Users/madav/Documents/checkout UI/gokwik.pdp/public/merchant.html` was updated at 15:31:10. This update added a significant amount of JavaScript code to handle merchant information, including functions for initializing the Gokwik SDK, processing payments, handling events, and managing cookies related to landing pages and referrer URLs.  It also includes a commented-out section for loading the Gokwik modal script and analytics js. The  `merchantInfo` object contains various merchant details,  including `mid`, `environment`, and other parameters.  Importantly,  it sets the environment to `'local'`.

`/Users/madav/Documents/checkout UI/gokwik.pdp/src/Components/place-order/Discounts/Discounts.svelte` was updated twice, at 15:34:45 and 15:35:25. The changes are extensive and primarily focus on handling discounts, coupons, and offers.  The code manages various aspects of discount application, including interactions with multiple stores, handling of one-click coupons, and applying different types of discounts (e.g., exact, min, max). The updates refine the handling of one-click coupons and add logging for debugging purposes.  The code extensively uses Svelte stores for managing state.  A significant amount of logic deals with the application and management of multiple discounts, including constraints and priorities.  The second update includes a `console.log` statement added to output `shopifyAvailableOffers` which indicates debugging efforts.


## 16:43:03
The `/Users/madav/Documents/checkout UI/gokwik.pdp/src/common/services/EnvironmentService.ts` file was updated twice on June 13th, 2025, at 16:20:10 and 16:20:18.  The changes appear minor and likely related to debugging or configuration. The second update shows a change in the `local` environment  `api_url`  from commented-out options to `https://sandbox.gokwik.co`. The file defines functions to generate URLs for various API endpoints and services based on the current environment (`dev`, `qa`, `sandbox`, `production`, etc.).  It heavily uses conditional logic to select appropriate URLs for different environments.  The code also includes functions to retrieve and set cookies, suggesting some client-side state management.  There's a significant amount of conditional logic based on the `env` variable, determining the base URL for various services (health check, address suggestions, APIs, analytics, etc.).  Several functions (`XGokwikToken`, `XKWIKPASSToken`) return different tokens based on the environment.


The `/Users/madav/Documents/checkout UI/gokwik.pdp/public/merchant.html` file was updated once on June 13th, 2025, at 16:20:54.  This file is an HTML page that appears to integrate with the Gokwik payment gateway.  It includes a button triggering a `goKwikCheckout` function, which sends `merchantInfo` via a `postMessage` to likely a parent window or iframe. The `merchantInfo` object contains data such as `mid`, `environment`, `storeId`, etc.  The script dynamically loads the `gokwik.js` script, handling different URLs based on the environment.  It also manages cookies (`gk_landing_page`, `gk_orig_referrer`) to track user navigation.  The code suggests the integration manages different environments (local, QA, sandbox, production) and includes commented-out code indicating earlier attempts at different configurations.  There's also a commented-out analytics script and dynamically added script, implying potential A/B testing or dynamic analytics implementation.
