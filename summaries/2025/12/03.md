# Activity Summary for 03/12/2025

## 10:58:05
The following code changes were logged on December 1, 2025, between 16:48:13 and 16:56:07, indicating a concentrated effort on related features.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/library/components/discounts/productSearch.tsx` (01/12/2025, 16:48:13):**
This file introduces a `ProductSearch` React component, designed for selecting Shopify products or collections within a dashboard environment. Key functionalities include:
- **Dynamic Search:** Supports searching for products or collections, with options to hide search input or buttons.
- **Pagination & Infinite Scroll:** Implements `useIntersectionObserver` for loading more results.
- **Product/Variant Handling:** Processes search results to group product variants and manage quantities for selected items. It includes logic for "collateProducts" to display variant counts.
- **Agent-Led Filtering:** Filters products based on an `isAgentLed` prop, excluding items tagged 'no-agent'.
- **Quantity & Price Management:** Allows incrementing/decrementing item quantities and handles specific gift pricing scenarios. It enforces minimum purchase quantity constraints for collections.
- **UI & State Management:** Utilizes `gokwik-ui-kit` components, Redux `useAppDispatch`, and React `useState`/`useRef` hooks for managing loading states, modal visibility, search text, and selected items.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/library/utilities/constants/apiEndpoints.ts` (01/12/2025, 16:49:34):**
This file centralizes a large and comprehensive set of API endpoints for a `checkout-dashboard-ui`. The collection covers diverse functionalities, including:
- **Order and Customer Management:** Endpoints for fetching, creating, updating orders, addresses, and customer details.
- **Abandoned Carts (ABC) & Agent Orders:** Specific routes for managing abandoned carts, creating/updating agent-led orders, and fetching related counts.
- **Product and Collection Discovery:** Endpoints for searching products, fetching all products/collections, and retrieving details by ID.
- **Pincode & Shipping:** Management of pincode lists, shipping configurations, and file uploads/downloads related to pincodes.
- **Discounts and Promotions:** A substantial section including endpoints for creating, listing, deleting, generating codes for discounts (both general and specific DIY/bulk discounts), and managing discount configurations. This includes `getProductsList`, `getCustomersList`, `getCustomerSegments`, and `getCollectionsList` for targeting discounts.
- **Analytics and Metrics:** Extensive endpoints for `checkoutAnalytics`, `websiteAnalytics`, `discountAnalytics`, and `marketingAnalytics`, covering various metrics like funnels, trends, order stats, social/marketing sales, payment details, top products, returning customers, and discount usage/failures.
- **Merchant Configuration:** Routes for fetching and updating merchant-specific settings, Shopify app configurations, billing status, and merchant health.
- **Refunds, Edit Orders, UTM, Legality, GST, Upsell & Checkout Links:** Dedicated endpoints for initiating refunds, editing existing orders, retrieving UTM lists, legal document generation, GST validation/setting, managing cart upsell rules, and handling checkout links.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/library/utilities/api.ts` (01/12/2025, 16:50:12):**
This utility file provides wrapper functions for making API calls, abstracting the `makeAPICall` utility and leveraging the `APIEndPoints` constants. Key functions include:
- **`fetchShopifyCollectionsOrProducts`:** Handles fetching products or collections, supporting both title-based search and paginated retrieval. It filters active products and transforms product data to include variant information, enhancing product display.
- **`updateMerchantData`:** Generic function to update merchant-specific data.
- **`getAndDeleteUpsellData` and `pushUpsellData`:** Functions dedicated to fetching, deleting, and updating upsell rule data.
- **`getVariantNCollectionDetailsbyId`:** A versatile function to fetch details for multiple variants, collections, or products by their IDs, mapping the responses into a structured format.
- **`validateGstData`:** A function to interact with the GST validation/setting API.
All API calls prepend `process.env.REACT_APP_BASE_URL` and include basic error handling.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/library/utilities/helpers/helper.ts` (01/12/2025, 16:51:23):**
This file compiles a diverse set of helper utility functions:
- **Filtering & Formatting:** `getDynamicSearchFilters` for UI filters, `formatDateString`, `setCurrencySymbol`, and `formatAmount` for currency formatting (defaulting to 'â‚¹'), and `formatNumber` for locale-specific number formatting.
- **Date & Time Utilities:** `disabledBeforeDate`, `disabledBeforeTime`, `disabledDate`, and `disabledTime` for restricting date/time selections in pickers using `dayjs`. `getFutureDateString` generates future dates.
- **Object & Array Manipulation:** `deepCompare` for robust object comparison (with special handling for `pincodes` arrays), `debounce` for controlling function execution rate, and `compareAndCaptureArrayFields` for identifying added/removed items between two arrays.
- **Text & UI Helpers:** `capitalizeFirstLetter` for string formatting and `extractTitlesAndDataIndexes` for processing Ant Design table column configurations.
- **File Upload & Validation:** `uploadCohortCsv` specifically handles CSV uploads, validating if the content consists purely of phone numbers or emails, and sets form fields accordingly with error messages for invalid formats.
- **Specific Business Logic:** `shopifyAppCheckoutEnabledStatus` checks if a Shopify app checkout is enabled based on recent login activity. `areBothRangesMoreThanOneDay` validates date ranges. `extractUniqueCKeysForAntColumn` transforms analytics data for table display.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/store/customize-ui/index.ts` (01/12/2025, 16:52:44):**
This file defines a Redux Toolkit slice named `banner` (likely managing general UI customization) for the dashboard. It sets up an `initialState` object with detailed configurations for various UI elements:
- **`brand_data`:** For branding elements like CSS rules and logos.
- **`login_data`:** Comprehensive settings for the login screen, including background/text colors, banner content, visibility/auto-select for consent, continue button text, and banner timers.
- **`address_data`:** Primary colors and button text for the address section.
- **`payment_data`:** Similar to login data, includes background/text colors, banner visibility, content, and timers for the payment screen.
- **`button_toogle`:** A simple state for login button toggles.
- **`upsell_data`:** An extensive configuration for upsell offers, detailing enablement, item count limits, rule applicability, discounted prices, discount values/capping, applicable product/variant/collection IDs, titles, and product lists.
The slice provides reducers like `updateLoginData`, `updatePaymentData`, `updateBrandData`, `updateAddressData`, `updateButtonState`, and `updateUpsellState` to manage and merge updates to these specific customization areas.

**`/Users/mayuresh.madav/Documents/dashboard/checkout-dashboard-ui/src/pages/settings/customizeUI/mobilePage.tsx` (01/12/2025, 16:56:07):**
This component, `MobileStepUI`, acts as a preview interface for UI customizations on a mobile device within the dashboard settings.
- **Dynamic Tab Rendering:** It uses an `activeTab` state to conditionally render different sections corresponding to 'brand', 'login', 'payments', 'checkout-element', 'address', and 'coupons' tabs passed as props.
- **Redux Integration:** Fetches `customizeUiData` from the Redux store to apply dynamic styles and content to the preview.
- **Live Preview:** Displays a mobile-like layout showing:
    - Branding (logo).
    - Checkout progress steps (Mobile - Address - Pay).
    - Login/Payment banners (using a `Carousel` with customizable content, colors, and timers).
    - Placeholder input boxes.
    - Coupon entry and available offers section (dynamically showing coupon lists or skeletons).
    - Trust banners based on `checkoutElementData`.
    - A list of upsell products, reflecting the `upsell_data` from the Redux store.
This component allows users to visualize how their customization settings will appear on the actual mobile checkout interface.

**Patterns and Recurring Elements:**
- **Centralized Utilities:** Consistent use of `@library` alias for internal imports and `gokwik-ui-kit` for UI components across React files.
- **Redux Toolkit:** State management relies heavily on Redux Toolkit for structured and predictable updates, especially for UI customization.
- **E-commerce Dashboard Focus:** The file paths (`checkout-dashboard-ui`), API endpoints, and component functionalities strongly indicate a development context related to an e-commerce dashboard.
- **Shopify Integration:** Numerous mentions and logic relating to Shopify products, collections, customers, and app configurations.
- **Configuration-Driven UI:** A significant emphasis on allowing users to extensively customize the checkout UI through a dedicated Redux store and a preview component.
- **API-Centric Data Flow:** Data fetching is standardized through a comprehensive `apiEndpoints.ts` file and a `api.ts` utility, which consistently uses `process.env.REACT_APP_BASE_URL`.